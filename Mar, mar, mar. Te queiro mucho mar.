<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Existencia</title>
    <!-- Tailwind CSS para estilos rápidos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel para traducir JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Fuentes elegantes -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Lato', sans-serif;
        }
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-slate-900 text-white overflow-x-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Iconos SVG simples para no depender de librerías externas
        const HeartIcon = ({ filled }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
            </svg>
        );

        const ShareIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
            </svg>
        );

        const FeatherIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" strokeLinecap="round" strokeLinejoin="round" className="text-pink-200 opacity-80">
                <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"/><line x1="16" y1="8" x2="2" y2="22"/><line x1="17.5" y1="15" x2="9" y2="15"/>
            </svg>
        );

        const App = () => {
            const [liked, setLiked] = useState(false);
            const [showToast, setShowToast] = useState(false);
            const [visibleLines, setVisibleLines] = useState(0);

            const poemLines = [
                { text: "Tu existencia es un regalo", delay: 500 },
                { text: "Tus palabras una oda a la belleza", delay: 1500 },
                { text: "Quiero abrazarte hasta que muera", delay: 2500 },
                { text: "Y eliminar todo lo que es malo", delay: 3500 },
                { spacer: true, delay: 4000 },
                { text: "Estaré para ti", delay: 4500 },
                { text: "quizá no con las manos cocidas", delay: 5500 },
                { text: "Pero sí con el corazón fusionado", delay: 6500 },
                { text: "Llegamos a ser uno mismo", delay: 7500 },
                { text: "siempre y todos los días", delay: 8500 },
                { spacer: true, delay: 9000 },
                { text: "Vivimos en la incertidumbre", delay: 9500 },
                { text: "del ¿Cuánto me quiere?", delay: 10500 },
                { text: "pero contigo no existe", delay: 11500 },
                { text: "porque me lo demuestras diariamente.", delay: 12500 },
                { spacer: true, delay: 13000 },
                { text: "Permíteme seguir estando", delay: 13500 },
                { text: "Permíteme seguir hablando", delay: 14500 },
                { text: "pero también seguir escuchando.", delay: 15500 }
            ];

            useEffect(() => {
                const timer = setInterval(() => {
                    setVisibleLines(prev => (prev < poemLines.length ? prev + 1 : prev));
                }, 800);
                return () => clearInterval(timer);
            }, []);

            const handleShare = () => {
                const fullPoem = poemLines
                    .filter(line => !line.spacer)
                    .map(line => line.text)
                    .join('\n');
                
                // Intento moderno de compartir (celulares)
                if (navigator.share) {
                    navigator.share({
                        title: 'Para ti',
                        text: fullPoem,
                    }).catch(console.error);
                } else {
                    // Fallback para PC
                    navigator.clipboard.writeText(fullPoem).then(() => {
                        setShowToast(true);
                        setTimeout(() => setShowToast(false), 3000);
                    });
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-4 relative">
                    
                    {/* Decoración de fondo */}
                    <div className="fixed inset-0 pointer-events-none overflow-hidden">
                        <div className="absolute top-[-10%] left-[-10%] w-64 h-64 bg-pink-600 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-float"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-purple-600 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-float" style={{animationDelay: '2s'}}></div>
                    </div>

                    {/* Tarjeta Principal */}
                    <div className="relative z-10 max-w-md w-full bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl border border-white/10 overflow-hidden transition-all duration-500">
                        
                        {/* Cabecera */}
                        <div className="h-48 bg-gradient-to-b from-pink-500/20 to-transparent flex items-center justify-center flex-col relative group">
                            <div className="transform transition-transform duration-700 group-hover:rotate-12">
                                <FeatherIcon />
                            </div>
                            <div className="mt-4 text-xs text-pink-200 uppercase tracking-[0.2em] opacity-80 font-bold">
                                Poesía Digital
                            </div>
                        </div>

                        {/* Contenido del Poema */}
                        <div className="px-8 pb-8 pt-2 min-h-[400px] flex flex-col justify-center items-center text-center">
                            {poemLines.map((line, index) => {
                                if (line.spacer) return <div key={index} className="h-6 w-full"></div>;
                                
                                return (
                                    <p 
                                        key={index}
                                        className={`font-serif text-lg md:text-xl leading-relaxed transition-all duration-1000 ease-out transform w-full
                                            ${index < visibleLines ? 'opacity-100 translate-y-0 blur-0' : 'opacity-0 translate-y-8 blur-sm'} 
                                            ${index % 2 === 0 ? 'text-pink-50' : 'text-purple-100'}`}
                                    >
                                        {line.text}
                                    </p>
                                );
                            })}
                        </div>

                        {/* Pie de página / Acciones */}
                        <div className="bg-black/20 p-4 flex justify-between items-center backdrop-blur-lg border-t border-white/5">
                            <button 
                                onClick={() => setLiked(!liked)}
                                className="flex items-center gap-2 px-6 py-2 rounded-full hover:bg-white/10 transition-all active:scale-95 group"
                            >
                                <div className={`transition-transform duration-300 ${liked ? 'scale-125' : 'group-hover:scale-110'}`}>
                                    <HeartIcon filled={liked} className={liked ? 'text-red-500' : 'text-white'} />
                                </div>
                                <span className={`text-sm font-medium transition-colors ${liked ? 'text-red-200' : 'text-white'}`}>
                                    {liked ? 'Lo siento' : 'Love'}
                                </span>
                            </button>

                            <button 
                                onClick={handleShare}
                                className="flex items-center gap-2 px-6 py-2 rounded-full hover:bg-white/10 transition-all active:scale-95"
                            >
                                <ShareIcon className="text-white" />
                                <span className="text-sm font-medium text-white">Compartir</span>
                            </button>
                        </div>
                    </div>

                    {/* Notificación Toast */}
                    <div className={`fixed bottom-10 bg-white text-purple-900 px-6 py-3 rounded-full shadow-2xl font-medium transform transition-all duration-500 z-50
                        ${showToast ? 'translate-y-0 opacity-100 scale-100' : 'translate-y-20 opacity-0 scale-95'}`}>
                        ✨ Poema copiado
                    </div>

                    <div className="mt-8 text-white/20 text-xs text-center font-light">
                        Hecho con el corazón
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
